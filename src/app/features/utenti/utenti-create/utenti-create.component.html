<div id="contentDemo">
  <div class="main-wrapper" fxLayoutAlign="center center">


    <mat-card class="box" *ngIf="!registered; else thankyoumessage">
      <mat-card-header>
        <mat-card-title>
                <img mat-card-image
                src="https://www.ombrel.io/wp-content/uploads/2020/06/splashHoriz.png"
                style="max-width: 120px;margin: 0 -16px 0px -16px;">
               <p class="titelpayoff">
                Ombrel.io Ã¨ un progetto appena
                nato per aiutarti a gestire la tua spiaggia.
                <br>
                Registrati e inizia subito!
               </p>
        </mat-card-title>
      </mat-card-header>


  <form [formGroup]="utenteForm" (ngSubmit)="onSave()"
        #formDirective="ngForm"
        class="example-form">

         <mat-card-content>


  <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <input matInput formControlName="nome" class="editNomeCat" placeholder="Nome" appCapitalizeCase>
    <mat-error *ngIf="!utenteForm.get('nome').valid && utenteForm.get('nome').touched">
      Inserire Nome / minimo tre lettere
    </mat-error>
  </mat-form-field>
  <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <input matInput formControlName="cognome" class="editNomeCat" placeholder="Cognome" appCapitalizeCase>
    <mat-error *ngIf="!utenteForm.get('cognome').valid && utenteForm.get('cognome').touched">
      Inserire Cognome  / minimo tre lettere
    </mat-error>
  </mat-form-field>
  <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <input matInput formControlName="telefono" class="editNomeCat" placeholder="Telefono">
    <mat-error *ngIf="!utenteForm.get('telefono').valid && utenteForm.get('telefono').touched">
      Inserire solo cifre per il telefono
    </mat-error>
  </mat-form-field>
    <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <input matInput formControlName="email" class="editNomeCat" placeholder="Email">
    <mat-error *ngIf="!utenteForm.get('email').valid && utenteForm.get('email').touched">
      Inserire email nel formato corretto
    </mat-error>
  </mat-form-field>
    <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <mat-label>Password</mat-label>
    <input matInput formControlName="password" class="editNomeCat" placeholder="Password"
    [type]="hidep ? 'password' : 'text'">
        <mat-error *ngIf="!utenteForm.get('password').valid && utenteForm.get('password').touched">
      Inserire almeno 8 caratteri usando numeri e lettere
    </mat-error>
    <button mat-icon-button matSuffix (click)="hidep = !hidep" type="button"
    [attr.aria-label]="'Nascondi Password'" [attr.aria-pressed]="hidep">
    <mat-icon>{{hidep ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
  </mat-form-field>
      <mat-form-field style="width:100%; font-size:1rem" class="example-full-width">
    <mat-label>Conferma Password</mat-label>
    <input matInput formControlName="password_confirm" class="editNomeCat" placeholder="Conferma Password"
    [type]="hidecp ? 'password' : 'text'">
        <mat-error *ngIf="!utenteForm.get('password_confirm').valid && utenteForm.get('password_confirm').touched">
      Le password non coincidono
    </mat-error>
    <button mat-icon-button matSuffix (click)="hidecp = !hidecp" type="button"
    [attr.aria-label]="'Nascondi conferma Password'" [attr.aria-pressed]="hidecp">
    <mat-icon>{{hidecp ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
  </mat-form-field>
<br><br>
<div fxLayout="row" fxLayoutAlign="center center">
<button class="mat-raised-button mt20 w-100"
  type="submit" [disabled]="!utenteForm.valid"
  mat-raised-button color="primary">PROVA OMBREL.IO GRATIS
  </button>
</div>

    </mat-card-content>

      </form>

      <p style="text-align: center;font-size: 0.9rem;">
        <br>
        Se hai bisogno di aiuto o per qualsiasi altro dubbio scrivici su <b>supporto@ombrel.io</b>
      </p>
    </mat-card>

    <ng-template #thankyoumessage>
        <mat-card class="box" style="margin-top: 20px;">
          <mat-card-header>
              <mat-card-title>
                      <img mat-card-image
                      src="https://www.ombrel.io/wp-content/uploads/2020/06/splashHoriz.png"
                      style="max-width: 120px;margin: 0 -16px 0px -16px;">
                    <p class="titelthankyou">
                      Grazie {{ utente.nome }} per esserti registrato!!
                      <br><br>
                      Controlla la tua email per confermare la tua registrazione!
                      <br><br>
                      Dopo aver confermato
                      <br><br>
                        <a (click)="reloadPage()"
                        mat-button mat-raised-button color="primary">
                        Ricarica questa pagina</a>
                    </p>
              </mat-card-title>
            </mat-card-header>
        </mat-card>
    </ng-template>
  </div>
</div>
