<mat-form-field>
    <input matInput placeholder="Cerca" #term (keyup)="search(term.value)"> 
</mat-form-field>
<div fxLayout="row" fxFlex *ngIf="!(attrezzaturaState | async).loading">    
    
 <mat-paginator #paginator class="mat-elevation-z8" 
    [length]="(attrezzaturaState | async).attrezzature.total" 
    [pageSize]="(attrezzaturaState | async).attrezzature.per_page"
    [pageIndex]="page_index"
    [showFirstLastButtons]=true 
    (page)="handlePage($event)">
</mat-paginator>

  <table mat-table [dataSource]="(attrezzaturaState | async).attrezzature.data" 
         id="tableClienti" class="mat-elevation-z8 mb40">
         <ng-container matColumnDef="matricola">
            <th mat-header-cell *matHeaderCellDef> Matricola </th>
            <td mat-cell *matCellDef="let element"> {{ element.matricola }} </td>
        </ng-container> 
        <ng-container matColumnDef="costruttore">
            <th mat-header-cell *matHeaderCellDef> Costruttore </th>
            <td mat-cell *matCellDef="let element"> {{ element.costruttore }} </td>
        </ng-container>  
        <ng-container matColumnDef="denominazione">
            <th mat-header-cell *matHeaderCellDef> Denominazione </th>
            <td mat-cell *matCellDef="let element"> {{ element.denominazione }} </td>
        </ng-container>  
     
      <ng-container matColumnDef="action" >
            <th mat-header-cell *matHeaderCellDef class="action"> </th>
            <td mat-cell *matCellDef="let element" class="action">                  
                <mat-icon (click)="$event.stopPropagation();deleteAttrezzatura(element)"  
                class="icon mr5 valmiddle">delete</mat-icon>
                <mat-icon (click)="$event.stopPropagation();editAttrezzatura(element)"
                class="icon mr5 valmiddle">edit</mat-icon>
            </td>
        </ng-container>          
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"
      (click)="onRowClicked(row)">
      ></tr>     
  </table>
</div>
<div fxLayout="row" fxFlex >    
    <mat-progress-bar mode="indeterminate" *ngIf="(attrezzaturaState | async).loading"></mat-progress-bar>
</div> 
