<div class="flex-grid">
  <div class="col">
    <h2 class="titleSection">
      <mat-icon class="icon mr15 valmiddle">book_online</mat-icon>
      Prenotazioni
    </h2>
  </div>
    <div class="col" id="zoombox">
      <div style="float: right; font-size: 1rem">
        <p style="padding: 0px 8px; margin: 10px 0px 0px 0px">Zoom</p>
        <mat-slider
          min="60"
          max="140"
          (change)="updateZoom($event)"
          step="10"
          [value]="valueZoom"
          thumbLabel
          [displayWith]="formatLabel"
        ></mat-slider>
      </div>
    </div>
</div>


<div fxLayout="row" style="margin: 0px;">
  <br>
  <mat-form-field appearance="fill" style="width:300px">
    <mat-label>Data Inizio e Data Fine</mat-label>
    <mat-date-range-input [rangePicker]="picker" [formGroup]="range" >
      <input matStartDate placeholder="Data Inizio" formControlName="dateStart" readonly>
      <input matEndDate placeholder="Data Fine" formControlName="dateEnd" readonly>
    </mat-date-range-input>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>

  </mat-form-field>
  <button id="btnFindPren"
  [disabled]="!range.valid"
  mat-raised-button color="primary"
  (click)="findPrenotazione()">CERCA</button>
</div>

<div style="width: 40%;">
  <mat-list class="inline-list">
    <mat-list-item> <mat-icon style="color:#45cc47">circle</mat-icon> &nbsp; Libero </mat-list-item>
    <mat-list-item> <mat-icon style="color:#F44336">circle</mat-icon>&nbsp; Occupato </mat-list-item>
    <mat-list-item> <mat-icon style="color:#673ab7">circle</mat-icon> &nbsp;Stagionale </mat-list-item>
  </mat-list>
</div>
<div *ngIf="!(prenotazioneState | async).loading">
    <mat-form-field style="width: 100%">
      <input matInput placeholder="Cerca Ombrellone" #term (keyup)="setSearch(term.value)" style="width: 100%" />
    </mat-form-field>
<div class="gridListContainer">
  <mat-grid-list
  [ngStyle]="getZoomVal()"
  [style.width]="150*(prenotazioneState | async).mappa.numero_colonne+'px'"
  [cols]="(prenotazioneState | async).mappa.numero_colonne"
  rowHeight="130px">
    <mat-grid-tile *ngFor="let tile of mappaGrid; index as i;">
        <!-- <div class="rowColIndicator"><p>Fila {{ tile.iRiga }}:{{ tile.iColonna }}</p></div> -->
        <div class="rowCardIndicator">
          <app-prenotazione-edit
          *ngIf="getOmbrelloneIfExist(tile.iRiga, tile.iColonna) as ombrellone;"
          [ombrellone]="ombrellone"
          [ombrellonename]="ombrellonename"
          [prenArray]="checkPrenotazione(ombrellone.id)"
          [rangeDate]="{dataInizio:range.value['dateStart'],dataFine:range.value['dateEnd']}"></app-prenotazione-edit>
        </div>
    </mat-grid-tile>
  </mat-grid-list>
  </div>
  <br>
</div>



<div>
  <mat-progress-bar
    mode="indeterminate"
    *ngIf="(prenotazioneState | async).loading"
  ></mat-progress-bar>
</div>
