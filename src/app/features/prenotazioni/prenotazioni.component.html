<h2 class="titleSection">
  <mat-icon class="icon mr15 valmiddle">book_online</mat-icon>
  Prenotazioni
</h2>
<div fxLayout="row" style="margin-bottom: 20px; margin-top: 20px;">
  <br>
  <mat-form-field appearance="fill" style="width:300px">
    <mat-label>Data Inizio e Data Fine</mat-label>
    <mat-date-range-input [rangePicker]="picker" [formGroup]="range" >
      <input matStartDate placeholder="Data Inizio" formControlName="dateStart" readonly>
      <input matEndDate placeholder="Data Fine" formControlName="dateEnd" readonly>
    </mat-date-range-input>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>

  </mat-form-field>
  <button id="btnFindPren"
  [disabled]="!range.valid"
  mat-raised-button color="primary"
  (click)="findPrenotazione()">CERCA</button>
</div>

<div *ngIf="!(prenotazioneState | async).loading">

  <div class="content"
  fxLayout="row wrap"
  fxLayout.lt-sm="column"
  fxLayoutGap="32px"
  fxLayoutAlign="flex-start">

      <app-prenotazione-edit
        class="listItem"
        fxFlex="0 1 calc(20% - 32px)"
        fxFlex.lt-md="0 1 calc(50% - 32px)"
        fxFlex.lt-sm="100%"
        *ngFor="let prenotazioneel of (prenotazioneState | async).ombrellone"
        [ombrellone]="prenotazioneel"
        [prenotazione]="checkPrenotazione(prenotazioneel.id)"
        [rangeDate]="{dataInizio:range.value['dateStart'],dataFine:range.value['dateEnd']}"></app-prenotazione-edit>

  </div>
</div>

<div>
  <mat-progress-bar
    mode="indeterminate"
    *ngIf="(prenotazioneState | async).loading"
  ></mat-progress-bar>
</div>
